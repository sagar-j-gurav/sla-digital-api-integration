# SLA Digital API Integration Environment Variables
# Copy this file to .env and fill in your actual values

# ============================================
# ENVIRONMENT CONFIGURATION
# ============================================
NODE_ENV=development
PORT=3000
LOG_LEVEL=info
LOG_FILE_PATH=logs/sla-digital.log

# ============================================
# DATABASE CONFIGURATION
# ============================================
# MongoDB connection string
MONGODB_URI=mongodb://localhost:27017/sla_digital
# OR PostgreSQL connection string
# DATABASE_URL=postgresql://user:password@localhost:5432/sla_digital

# Redis for session management (optional)
REDIS_URL=redis://localhost:6379

# ============================================
# SLA DIGITAL API CREDENTIALS
# ============================================

# SANDBOX ENVIRONMENT
SANDBOX_API_USERNAME=your_sandbox_username_here
SANDBOX_API_PASSWORD=your_sandbox_password_here

# PRODUCTION ENVIRONMENT
PRODUCTION_API_USERNAME=your_production_username_here
PRODUCTION_API_PASSWORD=your_production_password_here

# PRE-PRODUCTION ENVIRONMENT (Optional)
PREPRODUCTION_API_USERNAME=your_preproduction_username_here
PREPRODUCTION_API_PASSWORD=your_preproduction_password_here

# ============================================
# MERCHANT CONFIGURATION
# ============================================
# Your merchant ID from SLA Digital
MERCHANT_ID=partner:00000000-0000-0000-0000-000000000000

# Default campaign ID for testing
DEFAULT_CAMPAIGN_ID=campaign:00000000-0000-0000-0000-000000000000

# ============================================
# SERVER CONFIGURATION
# ============================================
# Whitelisted IPs (comma-separated CIDR notation)
WHITELISTED_IPS=127.0.0.1/32,192.168.1.0/24,10.0.0.0/8

# Webhook endpoint secret for signature validation
WEBHOOK_SECRET=your_webhook_secret_here_min_32_chars

# API rate limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# ============================================
# OPERATOR-SPECIFIC CONFIGURATIONS
# ============================================

# Zain Bahrain specific
ZAIN_BH_SERVICE_ID=campaign:xxxxx-xxxxx-xxxxx-xxxxx
ZAIN_BH_SHORTCODE=94005
ZAIN_BH_KEYWORD=SUB

# Mobily KSA fraud prevention
MOBILY_FRAUD_SCRIPT_URL=https://fraud.sla-alacrity.com/v1/script.js
MOBILY_FRAUD_API_KEY=your_fraud_api_key_here

# UK Operators webhook URL
UK_WEBHOOK_CALLBACK_URL=https://yourdomain.com/api/webhook/uk

# ============================================
# SECURITY CONFIGURATION
# ============================================
# JWT secret for internal auth (min 32 chars)
JWT_SECRET=your_jwt_secret_here_minimum_32_characters

# Encryption key for sensitive data (32 bytes hex)
ENCRYPTION_KEY=0000000000000000000000000000000000000000000000000000000000000000

# Session secret
SESSION_SECRET=your_session_secret_here_minimum_32_characters

# ============================================
# MONITORING & ALERTING
# ============================================
# Sentry DSN for error tracking
SENTRY_DSN=https://xxxxx@sentry.io/xxxxx

# Prometheus metrics port
METRICS_PORT=9090

# Slack webhook for alerts
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/XXX/XXX/XXX

# ============================================
# TESTING CONFIGURATION
# ============================================
# Test MSISDNs for each operator (sandbox only)
TEST_MSISDN_ZAIN_BH=97312345678
TEST_MSISDN_VODAFONE_UK=447700900000
TEST_MSISDN_TELENOR_MM=959123456789

# Test PIN for sandbox (always 000000)
SANDBOX_TEST_PIN=000000

# ============================================
# FEATURE FLAGS
# ============================================
ENABLE_WEBHOOK_PROCESSING=true
ENABLE_FRAUD_PREVENTION=true
ENABLE_ACR_STORAGE=true
ENABLE_METRICS=true
ENABLE_DEBUG_LOGGING=false

# ============================================
# EXTERNAL SERVICES
# ============================================
# AWS Configuration (for KMS/Secrets Manager)
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_KMS_KEY_ID=arn:aws:kms:region:account:key/xxxxx

# HashiCorp Vault (alternative to AWS)
VAULT_ADDR=https://vault.yourdomain.com
VAULT_TOKEN=your_vault_token
VAULT_NAMESPACE=sla-digital

# ============================================
# NOTES
# ============================================
# 1. Never commit this file with real values to version control
# 2. Use strong, unique passwords for each environment
# 3. Rotate credentials regularly
# 4. Use secrets management service in production
# 5. Ensure all URLs use HTTPS in production
# 6. IP whitelisting is mandatory for production